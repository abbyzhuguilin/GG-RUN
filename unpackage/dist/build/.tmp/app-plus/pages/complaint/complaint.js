(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/complaint/complaint"],{"0675":function(t,e,n){"use strict";var i,a=function(){var t=this,e=t.$createElement;t._self._c},o=[];n.d(e,"b",(function(){return a})),n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return i}))},"1a15":function(t,e,n){"use strict";n.r(e);var i=n("a45f"),a=n.n(i);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);e["default"]=a.a},4041:function(t,e,n){},"51b5":function(t,e,n){"use strict";var i=n("4041"),a=n.n(i);a.a},5760:function(t,e,n){"use strict";(function(t){n("6857"),n("921b");i(n("66fd"));var e=i(n("b01a"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},a45f:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=c(n("a34a")),o=c(n("14ad"));function c(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,i,a,o,c){try{var u=t[o](c),r=u.value}catch(s){return void n(s)}u.done?e(r):Promise.resolve(r).then(i,a)}function r(t){return function(){var e=this,n=arguments;return new Promise((function(i,a){var o=t.apply(e,n);function c(t){u(o,i,a,c,r,"next",t)}function r(t){u(o,i,a,c,r,"throw",t)}c(void 0)}))}}var s={data:function(){return{opinionList:[{id:1,content:"我要吐槽：用的不爽，我有话说。"},{id:2,content:"产品建议：流程不合理。"},{id:3,content:"功能异常：软件故障，无法接单。"},{id:4,content:"其他：我想反馈其他问题"}],chooseIndex:0,num:240,imgList:[],appealPic:[],content:""}},methods:{changeOpinion:function(t){this.chooseIndex=t},getNum:function(t){this.num=240-t.detail.value.length},uploadIamge:function(){var e=this,n=t.getStorageSync("token");t.chooseImage({count:9,sizeType:["original","compressed"],success:function(a){for(var c=0;c<a.tempFilePaths.length;c++)t.uploadFile({url:o.default+e.$api.upLoad,filePath:a.tempFilePaths[c],header:{token:n},name:"file",success:function(t){i("log",t," at pages\\complaint\\complaint.vue:74");var n=JSON.parse(t.data);e.imgList.push(n.url),e.appealPic.push(n.fileName)}})}})},previewImg:function(e){t.previewImage({urls:this.imgList,current:e.currentTarget.dataset.url})},DelImage:function(e){var n=this;t.showModal({title:"是否删除图片",content:"确定要删除图片吗？",cancelText:"取消",confirmText:"确定",success:function(t){t.confirm&&(n.imgList.splice(e.currentTarget.dataset.index,1),n.appealPic.splice(e.currentTarget.dataset.index,1))}})},sumbit:function(){var e=r(a.default.mark((function e(){var n,i,o;return a.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.content.length<8)){e.next=2;break}return e.abrupt("return",t.showToast({icon:"none",title:"内容不能少于8个字"}));case 2:return n=this.opinionList[this.chooseIndex].content+","+this.content,i=this.appealPic.join(","),e.next=6,this.$fetch(this.$api.riderComplain,{complaintType:0,content:n,picUrl:i},"POST");case 6:o=e.sent,t.showToast({icon:"none",title:o.msg}),0==o.code&&setTimeout((function(){t.navigateBack({delta:1})}),500);case 9:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()}};e.default=s}).call(this,n("6e42")["default"],n("0de9")["default"])},b01a:function(t,e,n){"use strict";n.r(e);var i=n("0675"),a=n("1a15");for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);n("51b5");var c,u=n("f0c5"),r=Object(u["a"])(a["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],c);e["default"]=r.exports}},[["5760","common/runtime","common/vendor"]]]);