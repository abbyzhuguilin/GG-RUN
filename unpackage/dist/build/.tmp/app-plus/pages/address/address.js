(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address"],{"089b":function(e,t,s){"use strict";var r={"u-empty":function(){return s.e("node-modules/uview-ui/components/u-empty/u-empty").then(s.bind(null,"471c"))},"uni-load-more":function(){return s.e("components/uni-load-more/uni-load-more").then(s.bind(null,"f373"))}},n=function(){var e=this,t=e.$createElement;e._self._c},d=[];s.d(t,"b",(function(){return n})),s.d(t,"c",(function(){return d})),s.d(t,"a",(function(){return r}))},"185f":function(e,t,s){"use strict";var r=s("3da2"),n=s.n(r);n.a},"3da2":function(e,t,s){},4162:function(e,t,s){"use strict";s.r(t);var r=s("089b"),n=s("af8b");for(var d in n)"default"!==d&&function(e){s.d(t,e,(function(){return n[e]}))}(d);s("185f");var a,i=s("f0c5"),u=Object(i["a"])(n["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);t["default"]=u.exports},"7d31":function(e,t,s){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=d(s("4795"));function d(e){return e&&e.__esModule?e:{default:e}}function a(e){return l(e)||o(e)||u(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?c(e,t):void 0}}function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function f(e,t,s,r,n,d,a){try{var i=e[d](a),u=i.value}catch(o){return void s(o)}i.done?t(u):Promise.resolve(u).then(r,n)}function h(e){return function(){var t=this,s=arguments;return new Promise((function(r,n){var d=e.apply(t,s);function a(e){f(d,r,n,a,i,"next",e)}function i(e){f(d,r,n,a,i,"throw",e)}a(void 0)}))}}var g={onLoad:function(t){this.addressStatus=t.address,e.showLoading({title:"加载中"})},onShow:function(){this.initAddress()},onUnload:function(){0===this.userAddress.length&&e.removeStorageSync("sendAddress")},data:function(){return{circleIndex:0,addressStatus:0,userAddress:[],hasFlag:!1,isShowLoding:!1}},methods:{handleCircle:function(t){var s=this;return h(n.default.mark((function r(){var d;return n.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s.userAddress.forEach((function(e){e.defaultFlag=1})),s.userAddress[t].defaultFlag=0,r.next=4,s.$fetch(s.$api.changeDefault,{id:s.userAddress[t].id},"POST","form");case 4:r.sent,e.showLoading({title:"正在置顶该地址"}),(d=s.userAddress).unshift.apply(d,a(s.userAddress.splice(t,1))),setTimeout((function(){e.hideLoading()}),1e3);case 8:case"end":return r.stop()}}),r)})))()},goToEdit:function(t,s,n){r("log",this.addressStatus," at pages\\address\\address.vue:89"),1==this.addressStatus&&e.setStorageSync("noSetSend",!0),0==t?e.navigateTo({url:"../editAddress/editAddress?status="+t}):e.navigateTo({url:"../editAddress/editAddress?addressInfo="+JSON.stringify(t)+"&id="+s+"&status="+n})},storageInfo:function(t,s){if(t.latitude=t.latitude.split(","),e.removeStorageSync("helpMeBuy"),e.removeStorageSync("helpMeGet"),0==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var r={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]},extensionNumber:t.extensionNumber};e.setStorageSync("sendAddress",JSON.stringify(r)),e.setStorageSync("clickAddressFlag",!0),e.navigateBack({delta:1})}if(1==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var n={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]},extensionNumber:t.extensionNumber};e.setStorageSync("endAddress",JSON.stringify(n)),e.setStorageSync("clickAddressFlag",!0),e.navigateBack({delta:1})}},initAddress:function(){var t=this;return h(n.default.mark((function s(){var d,i,u,o;return n.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=e.getStorageSync("token"),s.next=3,t.$fetch(t.$api.addressList,{token:i},"GET","Form");case 3:for(u=s.sent,t.userAddress=u.data,t.userAddress.forEach((function(e){e.addressDetail=e.addressDetail.split(",")})),o=0;o<t.userAddress.length;o++)t.userAddress[o].defaultFlag||(r("log",o," at pages\\address\\address.vue:188"),t.userAddressDefaultFlag=o);(d=t.userAddress).unshift.apply(d,a(t.userAddress.splice(t.userAddressDefaultFlag,1))),t.userAddress.length<=0&&(t.isShowLoding=!0),r("log",t.userAddress," at pages\\address\\address.vue:199"),setTimeout((function(){e.hideLoading()}),1700);case 11:case"end":return s.stop()}}),s)})))()},delAddress:function(t){var s=this;return h(n.default.mark((function d(){return n.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.showModal({title:"删除地址",content:"确定删除该地址么",success:function(n){if(n.confirm)s.$fetch(s.$api.delAddress,{id:Number(t)},"POST","form").then((function(t){r("log",t," at pages\\address\\address.vue:213"),e.showToast({icon:"none",title:t.msg}),0===t.code&&s.initAddress()}))}});case 1:case"end":return n.stop()}}),d)})))()}}};t.default=g}).call(this,s("6e42")["default"],s("0de9")["default"])},af8b:function(e,t,s){"use strict";s.r(t);var r=s("7d31"),n=s.n(r);for(var d in r)"default"!==d&&function(e){s.d(t,e,(function(){return r[e]}))}(d);t["default"]=n.a},c279:function(e,t,s){"use strict";(function(e){s("7207"),s("921b");r(s("66fd"));var t=r(s("4162"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])}},[["c279","common/runtime","common/vendor"]]]);