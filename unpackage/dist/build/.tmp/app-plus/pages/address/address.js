(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address"],{"185f":function(e,t,s){"use strict";var r=s("3da2"),a=s.n(r);a.a},"39eb":function(e,t,s){"use strict";var r={"uni-load-more":function(){return s.e("components/uni-load-more/uni-load-more").then(s.bind(null,"f373"))}},a=function(){var e=this,t=e.$createElement;e._self._c},d=[];s.d(t,"b",(function(){return a})),s.d(t,"c",(function(){return d})),s.d(t,"a",(function(){return r}))},"3da2":function(e,t,s){},4162:function(e,t,s){"use strict";s.r(t);var r=s("39eb"),a=s("af8b");for(var d in a)"default"!==d&&function(e){s.d(t,e,(function(){return a[e]}))}(d);s("185f");var n,i=s("f0c5"),u=Object(i["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],n);t["default"]=u.exports},"7d31":function(e,t,s){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=d(s("4795"));function d(e){return e&&e.__esModule?e:{default:e}}function n(e){return l(e)||o(e)||u(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e,t){if(e){if("string"===typeof e)return c(e,t);var s=Object.prototype.toString.call(e).slice(8,-1);return"Object"===s&&e.constructor&&(s=e.constructor.name),"Map"===s||"Set"===s?Array.from(s):"Arguments"===s||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?c(e,t):void 0}}function o(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function l(e){if(Array.isArray(e))return c(e)}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var s=0,r=new Array(t);s<t;s++)r[s]=e[s];return r}function f(e,t,s,r,a,d,n){try{var i=e[d](n),u=i.value}catch(o){return void s(o)}i.done?t(u):Promise.resolve(u).then(r,a)}function h(e){return function(){var t=this,s=arguments;return new Promise((function(r,a){var d=e.apply(t,s);function n(e){f(d,r,a,n,i,"next",e)}function i(e){f(d,r,a,n,i,"throw",e)}n(void 0)}))}}var v={onLoad:function(e){this.addressStatus=e.address},onShow:function(){this.initAddress()},onUnload:function(){0===this.userAddress.length&&e.removeStorageSync("sendAddress")},data:function(){return{circleIndex:0,addressStatus:0,userAddress:[],hasFlag:!1}},methods:{handleCircle:function(t){var s=this;return h(a.default.mark((function r(){var d;return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s.userAddress.forEach((function(e){e.defaultFlag=1})),s.userAddress[t].defaultFlag=0,r.next=4,s.$fetch(s.$api.changeDefault,{id:s.userAddress[t].id},"POST","form");case 4:r.sent,e.showLoading({title:"正在置顶该地址"}),(d=s.userAddress).unshift.apply(d,n(s.userAddress.splice(t,1))),setTimeout((function(){e.hideLoading()}),1e3);case 8:case"end":return r.stop()}}),r)})))()},goToEdit:function(t,s,a){r("log",this.addressStatus," at pages\\address\\address.vue:82"),1==this.addressStatus&&e.setStorageSync("noSetSend",!0),0==t?e.navigateTo({url:"../editAddress/editAddress?status="+t}):e.navigateTo({url:"../editAddress/editAddress?addressInfo="+JSON.stringify(t)+"&id="+s+"&status="+a})},storageInfo:function(t,s){if(t.latitude=t.latitude.split(","),r("log",this.addressStatus," at pages\\address\\address.vue:101"),r("log",0==this.addressStatus," at pages\\address\\address.vue:102"),r("log",1==this.addressStatus," at pages\\address\\address.vue:103"),0==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var a={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]}};e.setStorageSync("sendAddress",JSON.stringify(a)),e.navigateBack({delta:1})}if(1==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var d={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]}};e.setStorageSync("endAddress",JSON.stringify(d)),e.navigateBack({delta:1})}},initAddress:function(){var t=this;return h(a.default.mark((function s(){var d,i,u,o;return a.default.wrap((function(s){while(1)switch(s.prev=s.next){case 0:return i=e.getStorageSync("token"),s.next=3,t.$fetch(t.$api.addressList,{token:i},"GET","Form");case 3:for(u=s.sent,t.userAddress=u.data,t.userAddress.forEach((function(e){e.addressDetail=e.addressDetail.split(",")})),o=0;o<t.userAddress.length;o++)t.userAddress[o].defaultFlag||(r("log",o," at pages\\address\\address.vue:178"),t.userAddressDefaultFlag=o);(d=t.userAddress).unshift.apply(d,n(t.userAddress.splice(t.userAddressDefaultFlag,1)));case 8:case"end":return s.stop()}}),s)})))()},delAddress:function(t){var s=this;return h(a.default.mark((function r(){return a.default.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.showModal({title:"删除地址",content:"确定删除该地址么",success:function(e){if(e.confirm)s.$fetch(s.$api.delAddress,{id:Number(t)},"POST","form").then((function(e){0===e.code&&s.initAddress()}))}});case 1:case"end":return r.stop()}}),r)})))()}}};t.default=v}).call(this,s("6e42")["default"],s("0de9")["default"])},af8b:function(e,t,s){"use strict";s.r(t);var r=s("7d31"),a=s.n(r);for(var d in r)"default"!==d&&function(e){s.d(t,e,(function(){return r[e]}))}(d);t["default"]=a.a},c279:function(e,t,s){"use strict";(function(e){s("7207"),s("921b");r(s("66fd"));var t=r(s("4162"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])}},[["c279","common/runtime","common/vendor"]]]);