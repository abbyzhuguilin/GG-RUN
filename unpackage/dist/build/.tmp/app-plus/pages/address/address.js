(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/address/address"],{"4ace":function(e,t,s){},"713f":function(e,t,s){"use strict";s.r(t);var n=s("c7a4"),d=s.n(n);for(var r in n)"default"!==r&&function(e){s.d(t,e,(function(){return n[e]}))}(r);t["default"]=d.a},7233:function(e,t,s){"use strict";var n=s("4ace"),d=s.n(n);d.a},"9dd7":function(e,t,s){"use strict";(function(e){s("6857"),s("921b");n(s("66fd"));var t=n(s("e86e"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,s("6e42")["createPage"])},c02b:function(e,t,s){"use strict";var n={"u-empty":function(){return s.e("node-modules/uview-ui/components/u-empty/u-empty").then(s.bind(null,"9e4b"))},"uni-load-more":function(){return s.e("components/uni-load-more/uni-load-more").then(s.bind(null,"5c50"))}},d=function(){var e=this,t=e.$createElement;e._self._c},r=[];s.d(t,"b",(function(){return d})),s.d(t,"c",(function(){return r})),s.d(t,"a",(function(){return n}))},c7a4:function(e,t,s){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d=r(s("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e){return o(e)||u(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,s=new Array(e.length);t<e.length;t++)s[t]=e[t];return s}}function l(e,t,s,n,d,r,a){try{var i=e[r](a),u=i.value}catch(o){return void s(o)}i.done?t(u):Promise.resolve(u).then(n,d)}function c(e){return function(){var t=this,s=arguments;return new Promise((function(n,d){var r=e.apply(t,s);function a(e){l(r,n,d,a,i,"next",e)}function i(e){l(r,n,d,a,i,"throw",e)}a(void 0)}))}}var f={onLoad:function(t){this.addressStatus=t.address,e.showLoading({title:"加载中"})},onShow:function(){this.initAddress()},onUnload:function(){0===this.userAddress.length&&e.removeStorageSync("sendAddress")},data:function(){return{circleIndex:0,addressStatus:0,userAddress:[],hasFlag:!1,isShowLoding:!1}},methods:{handleCircle:function(){var t=c(d.default.mark((function t(s){var n;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.userAddress.forEach((function(e){e.defaultFlag=1})),this.userAddress[s].defaultFlag=0,t.next=4,this.$fetch(this.$api.changeDefault,{id:this.userAddress[s].id},"POST","form");case 4:t.sent,e.showLoading({title:"正在置顶该地址"}),(n=this.userAddress).unshift.apply(n,a(this.userAddress.splice(s,1))),setTimeout((function(){e.hideLoading()}),1e3);case 8:case"end":return t.stop()}}),t,this)})));function s(e){return t.apply(this,arguments)}return s}(),goToEdit:function(t,s,d){n("log",this.addressStatus," at pages\\address\\address.vue:89"),1==this.addressStatus&&e.setStorageSync("noSetSend",!0),0==t?e.navigateTo({url:"../editAddress/editAddress?status="+t}):e.navigateTo({url:"../editAddress/editAddress?addressInfo="+JSON.stringify(t)+"&id="+s+"&status="+d})},storageInfo:function(t,s){if(t.latitude=t.latitude.split(","),e.removeStorageSync("helpMeBuy"),e.removeStorageSync("helpMeGet"),0==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var n={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]},extensionNumber:t.extensionNumber};e.setStorageSync("sendAddress",JSON.stringify(n)),e.setStorageSync("clickAddressFlag",!0),e.setStorageSync("canClickflag",!0),e.navigateBack({delta:1})}if(1==this.addressStatus){"undefined"==t.addressDetail[1]&&(t.addressDetail[1]=""),"undefined"==t.addressDetail[2]&&(t.addressDetail[2]="");var d={addressDetail:t.addressDetail[1],latitude:t.latitude[0]+","+t.latitude[1],mobile:t.mobile,name:t.name,province:t.province,city:t.city,area:t.area,id:this.userAddress[s].id,editAddress:{name:t.addressDetail[2],address:t.addressDetail[0],latitude:t.latitude[1],longitude:t.latitude[0]},extensionNumber:t.extensionNumber};e.setStorageSync("endAddress",JSON.stringify(d)),e.setStorageSync("clickAddressFlag",!0),e.navigateBack({delta:1})}},initAddress:function(){var t=c(d.default.mark((function t(){var s,r,i,u;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.getStorageSync("token"),n("log",r," at pages\\address\\address.vue:180"),t.next=4,this.$fetch(this.$api.addressList,{token:r},"GET","Form");case 4:for(i=t.sent,n("log",i," at pages\\address\\address.vue:183"),500==i.code&&e.hideLoading(),this.userAddress=i.data,this.userAddress.forEach((function(e){e.addressDetail=e.addressDetail.split(",")})),u=0;u<this.userAddress.length;u++)this.userAddress[u].defaultFlag||(n("log",u," at pages\\address\\address.vue:193"),this.userAddressDefaultFlag=u);(s=this.userAddress).unshift.apply(s,a(this.userAddress.splice(this.userAddressDefaultFlag,1))),this.userAddress.length<=0&&(this.isShowLoding=!0),n("log",this.userAddress," at pages\\address\\address.vue:204"),setTimeout((function(){e.hideLoading()}),1e3);case 14:case"end":return t.stop()}}),t,this)})));function s(){return t.apply(this,arguments)}return s}(),delAddress:function(){var t=c(d.default.mark((function t(s){var r=this;return d.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.showModal({title:"删除地址",content:"确定删除该地址么",success:function(t){if(t.confirm)r.$fetch(r.$api.delAddress,{id:Number(s)},"POST","form").then((function(t){n("log",t," at pages\\address\\address.vue:218"),e.showToast({icon:"none",title:t.msg}),0===t.code&&r.initAddress()}))}});case 1:case"end":return t.stop()}}),t)})));function s(e){return t.apply(this,arguments)}return s}()}};t.default=f}).call(this,s("6e42")["default"],s("0de9")["default"])},e86e:function(e,t,s){"use strict";s.r(t);var n=s("c02b"),d=s("713f");for(var r in d)"default"!==r&&function(e){s.d(t,e,(function(){return d[e]}))}(r);s("7233");var a,i=s("f0c5"),u=Object(i["a"])(d["default"],n["b"],n["c"],!1,null,null,null,!1,n["a"],a);t["default"]=u.exports}},[["9dd7","common/runtime","common/vendor"]]]);