(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/openInvioce/openInvioce"],{"0d5c":function(t,e,n){"use strict";n.r(e);var i=n("5881"),r=n.n(i);for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);e["default"]=r.a},"1ad6":function(t,e,n){"use strict";var i=n("a486"),r=n.n(i);r.a},5415:function(t,e,n){"use strict";var i,r=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return i}))},5881:function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=a(n("a34a"));function a(t){return t&&t.__esModule?t:{default:t}}function s(t,e,n,i,r,a,s){try{var u=t[a](s),o=u.value}catch(c){return void n(c)}u.done?e(o):Promise.resolve(o).then(i,r)}function u(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function u(t){s(a,i,r,u,o,"next",t)}function o(t){s(a,i,r,u,o,"throw",t)}u(void 0)}))}}var o={onLoad:function(e){t("log",e," at pages\\openInvioce\\openInvioce.vue:49"),this.price=e.price,this.price=Number(this.price).toFixed(2),this.subString=e.subString},data:function(){return{price:"",currentIndex:0,cheque:"",duty:"",email:"",recipients:"",phone:"",address:"",subString:"",dutyFlag:"",emailFlag:"",phoneFlag:""}},methods:{handleCurrentIndex:function(t){this.currentIndex=t},invioceSubmit:function(){var t=u(r.default.mark((function t(){var e,n;return r.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!this.dutyFlag){t.next=3;break}return i.showToast({icon:"none",title:"请检查税号是否输入正确"}),t.abrupt("return");case 3:if(!this.emailFlag){t.next=6;break}return i.showToast({icon:"none",title:"请检查邮箱是否输入正确"}),t.abrupt("return");case 6:if(0!==this.currentIndex){t.next=14;break}if(""!=this.cheque&&""!=this.duty&&""!=this.email&&!this.dutyFlag){t.next=10;break}return i.showToast({icon:"none",title:"请检查输入的内容"}),t.abrupt("return");case 10:return t.next=12,this.$fetch(this.$api.invoiceApply,{totalAmount:this.price,dutyParagraph:this.duty,invoiceRise:this.cheque,email:this.email,type:0,orderIds:this.subString},"POST");case 12:e=t.sent,0==e.code?(i.showToast({icon:"success",title:"申请成功"}),i.setStorageSync("backFlag",!0),setTimeout((function(){i.navigateBack({delta:1})}),1e3)):i.showToast({icon:"none",title:e.msg});case 14:if(1!==this.currentIndex){t.next=25;break}if(!this.phoneFlag){t.next=18;break}return i.showToast({icon:"none",title:"您输入的手机号码有误"}),t.abrupt("return");case 18:if(""!=this.cheque&&""!=this.duty&&""!=this.recipients&&""!=this.phone&&""!=this.address){t.next=21;break}return i.showToast({icon:"none",title:"请检查您输入的内容是否有误"}),t.abrupt("return");case 21:return t.next=23,this.$fetch(this.$api.invoiceApply,{totalAmount:this.price,dutyParagraph:this.duty,invoiceRise:this.cheque,type:1,orderIds:this.subString,address:this.address,mobile:this.phone,name:this.recipients},"POST");case 23:n=t.sent,0==n.code?(i.showToast({icon:"success",title:"申请成功"}),i.setStorageSync("backFlag",!0),setTimeout((function(){i.navigateBack({delta:1})}),1e3)):i.showToast({icon:"none",title:n.msg});case 25:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkDuty:function(){var t=/^[A-Z0-9]{15}$|^[A-Z0-9]{17}$|^[A-Z0-9]{18}$|^[A-Z0-9]{20}$/;return t.test(this.duty)?(this.dutyFlag=!1,!0):(this.dutyFlag=!0,!1)},checkEmail:function(){var t=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(this.email)?(this.emailFlag=!1,!0):(this.emailFlag=!0,!1)},checkPhone:function(){var t=/^1[3456789]\d{9}$/;return t.test(this.phone)?(this.phoneFlag=!1,!0):(this.phoneFlag=!0,!1)}}};e.default=o}).call(this,n("0de9")["default"],n("6e42")["default"])},"9b28":function(t,e,n){"use strict";n.r(e);var i=n("5415"),r=n("0d5c");for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);n("1ad6");var s,u=n("f0c5"),o=Object(u["a"])(r["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],s);e["default"]=o.exports},a486:function(t,e,n){},f58f:function(t,e,n){"use strict";(function(t){n("6857"),n("921b");i(n("66fd"));var e=i(n("9b28"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["f58f","common/runtime","common/vendor"]]]);