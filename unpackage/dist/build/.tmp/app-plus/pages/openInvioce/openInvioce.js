(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/openInvioce/openInvioce"],{"07d7":function(e,t,n){"use strict";var r=n("278f"),a=n.n(r);a.a},"278f":function(e,t,n){},"40f4":function(e,t,n){"use strict";var r,a=function(){var e=this,t=e.$createElement;e._self._c},i=[];n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return i})),n.d(t,"a",(function(){return r}))},aa42:function(e,t,n){"use strict";n.r(t);var r=n("b286"),a=n.n(r);for(var i in r)"default"!==i&&function(e){n.d(t,e,(function(){return r[e]}))}(i);t["default"]=a.a},b286:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n("4795"));function i(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,a,i,u){try{var o=e[i](u),c=o.value}catch(s){return void n(s)}o.done?t(c):Promise.resolve(c).then(r,a)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var i=e.apply(t,n);function o(e){u(i,r,a,o,c,"next",e)}function c(e){u(i,r,a,o,c,"throw",e)}o(void 0)}))}}var c={onLoad:function(t){e("log",t," at pages\\openInvioce\\openInvioce.vue:49"),this.price=t.price,this.price=Number(this.price).toFixed(2),this.subString=t.subString},data:function(){return{price:"",currentIndex:0,cheque:"",duty:"",email:"",recipients:"",phone:"",address:"",subString:"",dutyFlag:"",emailFlag:"",phoneFlag:""}},methods:{handleCurrentIndex:function(e){this.currentIndex=e},invioceSubmit:function(){var e=this;return o(a.default.mark((function t(){var n,i;return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.dutyFlag){t.next=3;break}return r.showToast({icon:"none",title:"请检查税号是否输入正确"}),t.abrupt("return");case 3:if(!e.emailFlag){t.next=6;break}return r.showToast({icon:"none",title:"请检查邮箱是否输入正确"}),t.abrupt("return");case 6:if(0!==e.currentIndex){t.next=14;break}if(""!=e.cheque&&""!=e.duty&&""!=e.email&&!e.dutyFlag){t.next=10;break}return r.showToast({icon:"none",title:"请检查输入的内容"}),t.abrupt("return");case 10:return t.next=12,e.$fetch(e.$api.invoiceApply,{totalAmount:e.price,dutyParagraph:e.duty,invoiceRise:e.cheque,email:e.email,type:0,orderIds:e.subString},"POST");case 12:n=t.sent,0==n.code?(r.showToast({icon:"success",title:"申请成功"}),r.setStorageSync("backFlag",!0),setTimeout((function(){r.navigateBack({delta:1})}),1e3)):r.showToast({icon:"none",title:n.msg});case 14:if(1!==e.currentIndex){t.next=25;break}if(!e.phoneFlag){t.next=18;break}return r.showToast({icon:"none",title:"您输入的手机号码有误"}),t.abrupt("return");case 18:if(""!=e.cheque&&""!=e.duty&&""!=e.recipients&&""!=e.phone&&""!=e.address){t.next=21;break}return r.showToast({icon:"none",title:"请检查您输入的内容是否有误"}),t.abrupt("return");case 21:return t.next=23,e.$fetch(e.$api.invoiceApply,{totalAmount:e.price,dutyParagraph:e.duty,invoiceRise:e.cheque,type:1,orderIds:e.subString,address:e.address,mobile:e.phone,name:e.recipients},"POST");case 23:i=t.sent,0==i.code?(r.showToast({icon:"success",title:"申请成功"}),r.setStorageSync("backFlag",!0),setTimeout((function(){r.navigateBack({delta:1})}),1e3)):r.showToast({icon:"none",title:i.msg});case 25:case"end":return t.stop()}}),t)})))()},checkDuty:function(){var e=/^[A-Z0-9]{15}$|^[A-Z0-9]{17}$|^[A-Z0-9]{18}$|^[A-Z0-9]{20}$/;return e.test(this.duty)?(this.dutyFlag=!1,!0):(this.dutyFlag=!0,!1)},checkEmail:function(){var e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(this.email)?(this.emailFlag=!1,!0):(this.emailFlag=!0,!1)},checkPhone:function(){var e=/^1[3456789]\d{9}$/;return e.test(this.phone)?(this.phoneFlag=!1,!0):(this.phoneFlag=!0,!1)}}};t.default=c}).call(this,n("0de9")["default"],n("6e42")["default"])},d0cd:function(e,t,n){"use strict";n.r(t);var r=n("40f4"),a=n("aa42");for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n("07d7");var u,o=n("f0c5"),c=Object(o["a"])(a["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],u);t["default"]=c.exports},ee52:function(e,t,n){"use strict";(function(e){n("7207"),n("921b");r(n("66fd"));var t=r(n("d0cd"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])}},[["ee52","common/runtime","common/vendor"]]]);