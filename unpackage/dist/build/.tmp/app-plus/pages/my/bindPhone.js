(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/bindPhone"],{"217e":function(t,e,n){"use strict";n.r(e);var o=n("5ba8"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=r.a},"21a9":function(t,e,n){},"30a2":function(t,e,n){"use strict";var o={pwdModel:function(){return n.e("components/pwdModel/pwdModel").then(n.bind(null,"a055"))}},r=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}))},4154:function(t,e,n){"use strict";var o=n("21a9"),r=n.n(o);r.a},"5ba8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n("aed1"));function r(t){return t&&t.__esModule?t:{default:t}}var u={data:function(){return{}},methods:{},getRealLen:function(t){return t.replace(/[^\x00-\xff]/g,"__").length},setEncryptList:function(t,e,n){var o=[],r=e,u=/.{40}/g,c=r.match(u);c.push(r.substring(c.join("").length));for(var i=0;i<c.length;i++){var a=this.getRealLen(c[i]);if(a>116)for(var s=this.setEncryptList(t,c[i],a),f=0;f<s.length;f++)o.push(s[f]);else o.push(this.setEncrypt(t,c[i]))}return o},setEncrypt:function(t,e){var n=new o.default;return n.setPublicKey(t),n.encrypt(e)},setLongEncrypt:function(t,e){var n=e,o=/.{116}/g,r=n.match(o);r.push(n.substring(r.join("").length));for(var u=[],c=0;c<r.length;c++){var i=this.getRealLen(r[c]);if(i>116)for(var a=this.setEncryptList(t,r[c],i),s=0;s<a.length;s++)u.push(a[s]);else u.push(this.setEncrypt(t,r[c]))}return u},setDecryptArray:function(t,e){for(var n="",o=0;o<e.length;o++)n+=this.setDecrypt(t,e[o]);return n},setDecrypt:function(t,e){var n=new o.default;return n.setPrivateKey(t),n.decrypt(e)}};e.default=u},"68a6":function(t,e,n){"use strict";(function(t){n("6857"),n("921b");o(n("66fd"));var e=o(n("ac70"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},8325:function(t,e,n){"use strict";n.r(e);var o=n("a6db"),r=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,(function(){return o[t]}))}(u);e["default"]=r.a},"8d8d":function(t,e,n){"use strict";var o,r=function(){var t=this,e=t.$createElement;t._self._c},u=[];n.d(e,"b",(function(){return r})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return o}))},"9e8a":function(t,e,n){"use strict";n.r(e);var o=n("8d8d"),r=n("217e");for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);var c,i=n("f0c5"),a=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);e["default"]=a.exports},a6db:function(t,e,n){"use strict";(function(t,o){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=c(n("a34a")),u=c(n("9e8a"));function c(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n,o,r,u,c){try{var i=t[u](c),a=i.value}catch(s){return void n(s)}i.done?e(a):Promise.resolve(a).then(o,r)}function a(t){return function(){var e=this,n=arguments;return new Promise((function(o,r){var u=t.apply(e,n);function c(t){i(u,o,r,c,a,"next",t)}function a(t){i(u,o,r,c,a,"throw",t)}c(void 0)}))}}var s=function(){n.e("components/pwdModel/pwdModel").then(function(){return resolve(n("a055"))}.bind(null,n)).catch(n.oe)},f=function(){n.e("components/verification/verification").then(function(){return resolve(n("b077"))}.bind(null,n)).catch(n.oe)},l={onLoad:function(){var e=t.getStorageSync("user_phone");this.phone=e,o("log",this.phone," at pages\\my\\bindPhone.vue:26")},data:function(){return{pwdmodelShow:!1,phoneModelShow:!1,phone:"",phoneYzm:""}},components:{pwdModel:s,phoneModel:f},methods:{goToChangPhone:function(){var e=a(r.default.mark((function e(){var n,c;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.phoneModelShow=!0,n=u.default.setEncrypt(this.$api.publiukey,this.phone),e.next=4,this.$fetch(this.$api.customerPhone,{mobile:n,length:6},"GET","form");case 4:c=e.sent,o("log",c," at pages\\my\\bindPhone.vue:48"),0==c.code||t.showToast({icon:"none",title:"获取验证码失败"});case 7:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),goToChangePwd:function(){this.pwdmodelShow=!0},close:function(){this.pwdmodelShow=!1},closePhone:function(){this.phoneModelShow=!1},pwd:function(){var e=a(r.default.mark((function e(n){var o,u;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.getStorageSync("token"),e.next=3,this.$fetch(this.$api.checkPwd,{mobile:this.phone,pwd:n,token:o},"POST","form");case 3:u=e.sent,0===u.code?(t.showToast({icon:"success",title:u.msg}),setTimeout((function(){t.redirectTo({url:"./changePhone"})}),1500)):t.showToast({icon:"none",title:u.msg});case 5:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}(),code:function(){var e=a(r.default.mark((function e(n){var o,u;return r.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o=t.getStorageSync("token"),e.next=3,this.$fetch(this.$api.checkMobile,{mobile:this.phone,checkCode:n,token:o},"POST","form");case 3:u=e.sent,0===u.code?(t.showToast({icon:"success",title:u.msg}),setTimeout((function(){t.redirectTo({url:"./changePhone"})}),1500)):t.showToast({icon:"none",title:u.msg});case 5:case"end":return e.stop()}}),e,this)})));function n(t){return e.apply(this,arguments)}return n}()}};e.default=l}).call(this,n("6e42")["default"],n("0de9")["default"])},ac70:function(t,e,n){"use strict";n.r(e);var o=n("30a2"),r=n("8325");for(var u in r)"default"!==u&&function(t){n.d(e,t,(function(){return r[t]}))}(u);n("4154");var c,i=n("f0c5"),a=Object(i["a"])(r["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],c);e["default"]=a.exports}},[["68a6","common/runtime","common/vendor"]]]);