(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/changePwd"],{1140:function(t,e,n){"use strict";var r,u=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}))},"217e":function(t,e,n){"use strict";n.r(e);var r=n("5ba8"),u=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=u.a},"5ba8":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("aed1"));function u(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{}},methods:{},getRealLen:function(t){return t.replace(/[^\x00-\xff]/g,"__").length},setEncryptList:function(t,e,n){var r=[],u=e,a=/.{40}/g,i=u.match(a);i.push(u.substring(i.join("").length));for(var o=0;o<i.length;o++){var s=this.getRealLen(i[o]);if(s>116)for(var c=this.setEncryptList(t,i[o],s),f=0;f<c.length;f++)r.push(c[f]);else r.push(this.setEncrypt(t,i[o]))}return r},setEncrypt:function(t,e){var n=new r.default;return n.setPublicKey(t),n.encrypt(e)},setLongEncrypt:function(t,e){var n=e,r=/.{116}/g,u=n.match(r);u.push(n.substring(u.join("").length));for(var a=[],i=0;i<u.length;i++){var o=this.getRealLen(u[i]);if(o>116)for(var s=this.setEncryptList(t,u[i],o),c=0;c<s.length;c++)a.push(s[c]);else a.push(this.setEncrypt(t,u[i]))}return a},setDecryptArray:function(t,e){for(var n="",r=0;r<e.length;r++)n+=this.setDecrypt(t,e[r]);return n},setDecrypt:function(t,e){var n=new r.default;return n.setPrivateKey(t),n.decrypt(e)}};e.default=a},"81ac":function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=i(n("a34a")),a=i(n("9e8a"));function i(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n,r,u,a,i){try{var o=t[a](i),s=o.value}catch(c){return void n(c)}o.done?e(s):Promise.resolve(s).then(r,u)}function s(t){return function(){var e=this,n=arguments;return new Promise((function(r,u){var a=t.apply(e,n);function i(t){o(a,r,u,i,s,"next",t)}function s(t){o(a,r,u,i,s,"throw",t)}i(void 0)}))}}var c={data:function(){return{phone:"",code:"",newPwd:"",pwd:"",yzm:"",getYzm:!0,computedTimer:0,status:"",flag:""}},onLoad:function(e){this.status=e.status,this.phone=t.getStorageSync("user_phone"),0==this.status?(this.flag=!0,t.setNavigationBarTitle({title:"忘记密码"})):1==this.status&&(this.flag=!1,t.setNavigationBarTitle({title:"修改密码"}))},onUnload:function(){},methods:{confirm:function(){var e=s(u.default.mark((function e(){var n;return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=this.phone.trim()&&""!=this.code.trim()&&""!=this.newPwd&&""!=this.pwd){e.next=3;break}return t.showToast({icon:"none",title:"请填写信息后进行更改"}),e.abrupt("return");case 3:if(this.newPwd==this.pwd){e.next=6;break}return t.showToast({icon:"none",title:"两次输入的密码不一致"}),e.abrupt("return");case 6:return e.next=8,this.$fetch(this.$api.customerForget,{mobile:this.phone,checkCode:this.code,password:this.newPwd},"POST","form");case 8:n=e.sent,r("log",n," at pages\\my\\changePwd.vue:84"),0===n.code?(t.showToast({icon:"success",title:"修改成功"}),t.removeStorageSync("user_phone"),t.removeStorageSync("token"),setTimeout((function(){t.reLaunch({url:"../enter/enter"})}),1500)):t.showToast({icon:"none",title:n.msg});case 11:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}(),getCode:function(){var e=s(u.default.mark((function e(){var n,r,i,o=this;return u.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.getYzm){e.next=2;break}return e.abrupt("return");case 2:if(""!=this.phone.trim()){e.next=7;break}return t.showToast({icon:"none",title:"请先输入手机号"}),e.abrupt("return");case 7:if(11==this.phone.length){e.next=10;break}return t.showToast({icon:"none",title:"请检查手机号输入是否正确"}),e.abrupt("return");case 10:return this.getYzm=!1,this.computedTimer=60,n=setInterval((function(){0===o.computedTimer?(clearInterval(n),o.getYzm=!0):o.computedTimer--}),1e3),r=a.default.setEncrypt(this.$api.publiukey,this.phone),e.next=16,this.$fetch(this.$api.customerPhone,{mobile:r},"GET","form");case 16:i=e.sent,this.yzm=i.msg;case 18:case"end":return e.stop()}}),e,this)})));function n(){return e.apply(this,arguments)}return n}()}};e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},"8d8d":function(t,e,n){"use strict";var r,u=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}))},9516:function(t,e,n){"use strict";n.r(e);var r=n("81ac"),u=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=u.a},"96e2":function(t,e,n){"use strict";n.r(e);var r=n("1140"),u=n("9516");for(var a in u)"default"!==a&&function(t){n.d(e,t,(function(){return u[t]}))}(a);n("a0a7");var i,o=n("f0c5"),s=Object(o["a"])(u["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=s.exports},"9e8a":function(t,e,n){"use strict";n.r(e);var r=n("8d8d"),u=n("217e");for(var a in u)"default"!==a&&function(t){n.d(e,t,(function(){return u[t]}))}(a);var i,o=n("f0c5"),s=Object(o["a"])(u["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],i);e["default"]=s.exports},a0a7:function(t,e,n){"use strict";var r=n("d3fe"),u=n.n(r);u.a},d3fe:function(t,e,n){},e87e:function(t,e,n){"use strict";(function(t){n("6857"),n("921b");r(n("66fd"));var e=r(n("96e2"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["e87e","common/runtime","common/vendor"]]]);