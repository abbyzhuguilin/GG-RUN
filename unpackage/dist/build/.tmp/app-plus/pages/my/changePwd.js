(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/changePwd"],{"0202":function(t,e,n){"use strict";n.r(e);var r=n("5734"),u=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=u.a},"2c2e":function(t,e,n){},5734:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=o(n("4795")),a=o(n("f8e4"));function o(t){return t&&t.__esModule?t:{default:t}}function c(t,e,n,r,u,a,o){try{var c=t[a](o),i=c.value}catch(s){return void n(s)}c.done?e(i):Promise.resolve(i).then(r,u)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(r,u){var a=t.apply(e,n);function o(t){c(a,r,u,o,i,"next",t)}function i(t){c(a,r,u,o,i,"throw",t)}o(void 0)}))}}var s={data:function(){return{phone:"",code:"",newPwd:"",pwd:"",yzm:"",getYzm:!0,computedTimer:0,status:"",flag:""}},onLoad:function(e){this.status=e.status,this.phone=t.getStorageSync("user_phone"),0==this.status?(this.flag=!0,t.setNavigationBarTitle({title:"忘记密码"})):1==this.status&&(this.flag=!1,t.setNavigationBarTitle({title:"修改密码"}))},onUnload:function(){},methods:{confirm:function(){var e=this;return i(u.default.mark((function n(){var a;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=e.phone.trim()&&""!=e.code.trim()&&""!=e.newPwd&&""!=e.pwd){n.next=3;break}return t.showToast({icon:"none",title:"请填写信息后进行更改"}),n.abrupt("return");case 3:if(e.newPwd==e.pwd){n.next=6;break}return t.showToast({icon:"none",title:"两次输入的密码不一致"}),n.abrupt("return");case 6:return n.next=8,e.$fetch(e.$api.customerForget,{mobile:e.phone,checkCode:e.code,password:e.newPwd},"POST","form");case 8:a=n.sent,r("log",a," at pages\\my\\changePwd.vue:84"),0===a.code?(t.showToast({icon:"success",title:"修改成功"}),t.removeStorageSync("user_phone"),t.removeStorageSync("token"),setTimeout((function(){t.reLaunch({url:"../enter/enter"})}),1500)):t.showToast({icon:"none",title:a.msg});case 11:case"end":return n.stop()}}),n)})))()},getCode:function(){var e=this;return i(u.default.mark((function n(){var r,o,c;return u.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.getYzm){n.next=2;break}return n.abrupt("return");case 2:if(""!=e.phone.trim()){n.next=7;break}return t.showToast({icon:"none",title:"请先输入手机号"}),n.abrupt("return");case 7:if(11==e.phone.length){n.next=10;break}return t.showToast({icon:"none",title:"请检查手机号输入是否正确"}),n.abrupt("return");case 10:return e.getYzm=!1,e.computedTimer=60,r=setInterval((function(){0===e.computedTimer?(clearInterval(r),e.getYzm=!0):e.computedTimer--}),1e3),o=a.default.setEncrypt(e.$api.publiukey,e.phone),n.next=16,e.$fetch(e.$api.customerPhone,{mobile:o},"GET","form");case 16:c=n.sent,e.yzm=c.msg;case 18:case"end":return n.stop()}}),n)})))()}}};e.default=s}).call(this,n("6e42")["default"],n("0de9")["default"])},"70e2":function(t,e,n){"use strict";n.r(e);var r=n("f5df"),u=n("0202");for(var a in u)"default"!==a&&function(t){n.d(e,t,(function(){return u[t]}))}(a);n("e509");var o,c=n("f0c5"),i=Object(c["a"])(u["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);e["default"]=i.exports},"7e1d":function(t,e,n){"use strict";var r,u=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}))},"7e48":function(t,e,n){"use strict";(function(t){n("7207"),n("921b");r(n("66fd"));var e=r(n("70e2"));function r(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},b16b:function(t,e,n){"use strict";n.r(e);var r=n("f0ca"),u=n.n(r);for(var a in r)"default"!==a&&function(t){n.d(e,t,(function(){return r[t]}))}(a);e["default"]=u.a},e509:function(t,e,n){"use strict";var r=n("2c2e"),u=n.n(r);u.a},f0ca:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r=u(n("1010"));function u(t){return t&&t.__esModule?t:{default:t}}var a={data:function(){return{}},methods:{},getRealLen:function(t){return t.replace(/[^\x00-\xff]/g,"__").length},setEncryptList:function(t,e,n){var r=[],u=e,a=/.{40}/g,o=u.match(a);o.push(u.substring(o.join("").length));for(var c=0;c<o.length;c++){var i=this.getRealLen(o[c]);if(i>116)for(var s=this.setEncryptList(t,o[c],i),f=0;f<s.length;f++)r.push(s[f]);else r.push(this.setEncrypt(t,o[c]))}return r},setEncrypt:function(t,e){var n=new r.default;return n.setPublicKey(t),n.encrypt(e)},setLongEncrypt:function(t,e){var n=e,r=/.{116}/g,u=n.match(r);u.push(n.substring(u.join("").length));for(var a=[],o=0;o<u.length;o++){var c=this.getRealLen(u[o]);if(c>116)for(var i=this.setEncryptList(t,u[o],c),s=0;s<i.length;s++)a.push(i[s]);else a.push(this.setEncrypt(t,u[o]))}return a},setDecryptArray:function(t,e){for(var n="",r=0;r<e.length;r++)n+=this.setDecrypt(t,e[r]);return n},setDecrypt:function(t,e){var n=new r.default;return n.setPrivateKey(t),n.decrypt(e)}};e.default=a},f5df:function(t,e,n){"use strict";var r,u=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",(function(){return u})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return r}))},f8e4:function(t,e,n){"use strict";n.r(e);var r=n("7e1d"),u=n("b16b");for(var a in u)"default"!==a&&function(t){n.d(e,t,(function(){return u[t]}))}(a);var o,c=n("f0c5"),i=Object(c["a"])(u["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],o);e["default"]=i.exports}},[["7e48","common/runtime","common/vendor"]]]);