(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/changePwd"],{"0202":function(e,t,n){"use strict";n.r(t);var r=n("5734"),o=n.n(r);for(var u in r)"default"!==u&&function(e){n.d(t,e,(function(){return r[e]}))}(u);t["default"]=o.a},"2c2e":function(e,t,n){},5734:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=u(n("4795"));function u(e){return e&&e.__esModule?e:{default:e}}function a(e,t,n,r,o,u,a){try{var c=e[u](a),i=c.value}catch(s){return void n(s)}c.done?t(i):Promise.resolve(i).then(r,o)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var u=e.apply(t,n);function c(e){a(u,r,o,c,i,"next",e)}function i(e){a(u,r,o,c,i,"throw",e)}c(void 0)}))}}var i={data:function(){return{phone:"",code:"",newPwd:"",pwd:"",yzm:"",getYzm:!0,computedTimer:0,status:"",flag:""}},onLoad:function(t){this.status=t.status,this.phone=e.getStorageSync("user_phone"),0==this.status?(this.flag=!0,e.setNavigationBarTitle({title:"忘记密码"})):1==this.status&&(this.flag=!1,e.setNavigationBarTitle({title:"修改密码"}))},onUnload:function(){},methods:{confirm:function(){var t=this;return c(o.default.mark((function n(){var u;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(""!=t.phone.trim()&&""!=t.code.trim()&&""!=t.newPwd&&""!=t.pwd){n.next=3;break}return e.showToast({icon:"none",title:"请填写信息后进行更改"}),n.abrupt("return");case 3:if(t.newPwd==t.pwd){n.next=6;break}return e.showToast({icon:"none",title:"两次输入的密码不一致"}),n.abrupt("return");case 6:return n.next=8,t.$fetch(t.$api.customerForget,{mobile:t.phone,checkCode:t.code,password:t.newPwd},"POST","form");case 8:u=n.sent,r("log",u," at pages\\my\\changePwd.vue:83"),0===u.code?(e.showToast({icon:"success",title:"修改成功"}),e.removeStorageSync("user_phone"),e.removeStorageSync("token"),setTimeout((function(){e.reLaunch({url:"../enter/enter"})}),1500)):e.showToast({icon:"none",title:u.msg});case 11:case"end":return n.stop()}}),n)})))()},getCode:function(){var t=this;return c(o.default.mark((function n(){var r,u;return o.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.getYzm){n.next=2;break}return n.abrupt("return");case 2:if(""!=t.phone.trim()){n.next=7;break}return e.showToast({icon:"none",title:"请先输入手机号"}),n.abrupt("return");case 7:if(11==t.phone.length){n.next=10;break}return e.showToast({icon:"none",title:"请检查手机号输入是否正确"}),n.abrupt("return");case 10:return t.getYzm=!1,t.computedTimer=60,r=setInterval((function(){0===t.computedTimer?(clearInterval(r),t.getYzm=!0):t.computedTimer--}),1e3),n.next=15,t.$fetch(t.$api.customerPhone,{mobile:t.phone},"GET","form");case 15:u=n.sent,t.yzm=u.msg;case 17:case"end":return n.stop()}}),n)})))()}}};t.default=i}).call(this,n("6e42")["default"],n("0de9")["default"])},"70e2":function(e,t,n){"use strict";n.r(t);var r=n("ff83"),o=n("0202");for(var u in o)"default"!==u&&function(e){n.d(t,e,(function(){return o[e]}))}(u);n("e509");var a,c=n("f0c5"),i=Object(c["a"])(o["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);t["default"]=i.exports},"7e48":function(e,t,n){"use strict";(function(e){n("7207"),n("921b");r(n("66fd"));var t=r(n("70e2"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},e509:function(e,t,n){"use strict";var r=n("2c2e"),o=n.n(r);o.a},ff83:function(e,t,n){"use strict";var r,o=function(){var e=this,t=e.$createElement;e._self._c},u=[];n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return r}))}},[["7e48","common/runtime","common/vendor"]]]);