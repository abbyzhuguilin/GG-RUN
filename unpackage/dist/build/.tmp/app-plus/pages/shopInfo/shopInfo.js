(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shopInfo/shopInfo"],{"0e9b":function(t,n,i){"use strict";(function(t){i("7207"),i("921b");e(i("66fd"));var n=e(i("aa81"));function e(t){return t&&t.__esModule?t:{default:t}}t(n.default)}).call(this,i("6e42")["createPage"])},"3bc2":function(t,n,i){"use strict";var e=i("65f3"),o=i.n(e);o.a},5944:function(t,n,i){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var e=o(i("4795"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,n,i,e,o,s,h){try{var c=t[s](h),r=c.value}catch(u){return void i(u)}c.done?n(r):Promise.resolve(r).then(e,o)}function h(t){return function(){var n=this,i=arguments;return new Promise((function(e,o){var h=t.apply(n,i);function c(t){s(h,e,o,c,r,"next",t)}function r(t){s(h,e,o,c,r,"throw",t)}c(void 0)}))}}var c={onShow:function(){t.getStorageSync("shopInfo")&&(this.shopInfo=t.getStorageSync("shopInfo"),this.currentIndex=this.shopInfo.index,this.weight=this.shopInfo.weight,this.price=this.shopInfo.price,0==this.shopInfo.status?(this.choiceElese(),this.elseShop=this.shopInfo.main):this.shopInfoMain=this.shopInfo.main)},data:function(){return{shopList:[],currentIndex:0,elseShop:"",weight:1,price:20,showElse:!1,shopInfoMain:"",shopInfo:{}}},onLoad:function(){this.initGoodsInfo()},onUnload:function(){t.hideKeyboard()},methods:{handleCurrent:function(t,n){this.shopInfoMain=t,this.currentIndex=n,this.shopInfo.index=n,this.showElse=!1},handleElseShop:function(){this.currentIndex=-1,this.showElse=!0},weightSub:function(){this.weight=Number(this.weight)-1,this.weight<=0&&(t.showToast({icon:"none",title:"重量不能再低啦"}),this.weight=1)},weightAdd:function(){this.weight=Number(this.weight)+1},priceSub:function(){this.price=Number(this.price)-1,this.price<=0&&(t.showToast({icon:"none",title:"价格不能再低啦"}),this.price=1)},priceAdd:function(){this.price=Number(this.price)+1,this.price>500&&(t.showToast({icon:"none",title:"价格不能再高啦"}),this.price=500)},checkWeight:function(){this.weight<=0&&(t.showToast({icon:"none",title:"重量不能再小啦"}),this.weight=1)},checkPrice:function(){this.price<=0&&(t.showToast({icon:"none",title:"价格不能再低啦"}),this.price=1),this.price>500&&(t.showToast({icon:"none",title:"价格不能再高啦"}),this.price=500)},goBack:function(){if(""!==this.shopInfoMain||""!==this.elseShop.trim()){if(this.price>500)return t.showToast({icon:"none",title:"商品预估价最高500元"}),void(this.price=500);if(this.showElse){if(""==this.elseShop)return void t.showToast({icon:"none",title:"请填写其他商品类型"});this.shopInfo.main=this.elseShop,this.shopInfo.weight=this.weight,this.shopInfo.price=this.price,this.shopInfo.status=0,t.setStorageSync("shopInfo",this.shopInfo)}else{this.shopInfo.main=this.shopInfoMain,this.shopInfo.weight=this.weight,this.shopInfo.price=this.price,this.shopInfo.status=1,t.setStorageSync("shopInfo",this.shopInfo)}t.navigateBack({delta:1})}else t.showToast({icon:"none",title:"请确认您的商品类型"})},initGoodsInfo:function(){var n=this;return h(e.default.mark((function i(){var o;return e.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,n.$fetch(n.$api.goodsType,{},"GET","Form");case 2:o=i.sent,0==o.code?n.shopList=o.data:t.showToast({icon:"none",title:o.msg});case 4:case"end":return i.stop()}}),i)})))()},choiceElese:function(){this.showElse=!0,this.currentIndex=-1}},watch:{}};n.default=c}).call(this,i("6e42")["default"])},"65f3":function(t,n,i){},"86d6":function(t,n,i){"use strict";var e,o=function(){var t=this,n=t.$createElement;t._self._c},s=[];i.d(n,"b",(function(){return o})),i.d(n,"c",(function(){return s})),i.d(n,"a",(function(){return e}))},"8c9a":function(t,n,i){"use strict";i.r(n);var e=i("5944"),o=i.n(e);for(var s in e)"default"!==s&&function(t){i.d(n,t,(function(){return e[t]}))}(s);n["default"]=o.a},aa81:function(t,n,i){"use strict";i.r(n);var e=i("86d6"),o=i("8c9a");for(var s in o)"default"!==s&&function(t){i.d(n,t,(function(){return o[t]}))}(s);i("3bc2");var h,c=i("f0c5"),r=Object(c["a"])(o["default"],e["b"],e["c"],!1,null,null,null,!1,e["a"],h);n["default"]=r.exports}},[["0e9b","common/runtime","common/vendor"]]]);