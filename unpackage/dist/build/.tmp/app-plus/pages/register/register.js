(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/register"],{"13c7":function(e,t,n){"use strict";var r,i=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r}))},"1fa6":function(e,t,n){"use strict";var r=n("b4ff"),i=n.n(r);i.a},2126:function(e,t,n){"use strict";n.r(t);var r=n("a934"),i=n.n(r);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);t["default"]=i.a},"217e":function(e,t,n){"use strict";n.r(t);var r=n("5ba8"),i=n.n(r);for(var s in r)"default"!==s&&function(e){n.d(t,e,(function(){return r[e]}))}(s);t["default"]=i.a},"5ba8":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=i(n("aed1"));function i(e){return e&&e.__esModule?e:{default:e}}var s={data:function(){return{}},methods:{},getRealLen:function(e){return e.replace(/[^\x00-\xff]/g,"__").length},setEncryptList:function(e,t,n){var r=[],i=t,s=/.{40}/g,a=i.match(s);a.push(i.substring(a.join("").length));for(var u=0;u<a.length;u++){var o=this.getRealLen(a[u]);if(o>116)for(var c=this.setEncryptList(e,a[u],o),h=0;h<c.length;h++)r.push(c[h]);else r.push(this.setEncrypt(e,a[u]))}return r},setEncrypt:function(e,t){var n=new r.default;return n.setPublicKey(e),n.encrypt(t)},setLongEncrypt:function(e,t){var n=t,r=/.{116}/g,i=n.match(r);i.push(n.substring(i.join("").length));for(var s=[],a=0;a<i.length;a++){var u=this.getRealLen(i[a]);if(u>116)for(var o=this.setEncryptList(e,i[a],u),c=0;c<o.length;c++)s.push(o[c]);else s.push(this.setEncrypt(e,i[a]))}return s},setDecryptArray:function(e,t){for(var n="",r=0;r<t.length;r++)n+=this.setDecrypt(e,t[r]);return n},setDecrypt:function(e,t){var n=new r.default;return n.setPrivateKey(e),n.decrypt(t)}};t.default=s},"867a":function(e,t,n){"use strict";(function(e){n("6857"),n("921b");r(n("66fd"));var t=r(n("dbe1"));function r(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n("6e42")["createPage"])},"8d8d":function(e,t,n){"use strict";var r,i=function(){var e=this,t=e.$createElement;e._self._c},s=[];n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return r}))},"9e8a":function(e,t,n){"use strict";n.r(t);var r=n("8d8d"),i=n("217e");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);var a,u=n("f0c5"),o=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);t["default"]=o.exports},a934:function(e,t,n){"use strict";(function(e,r){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(n("a34a")),s=a(n("9e8a"));function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n,r,i,s,a){try{var u=e[s](a),o=u.value}catch(c){return void n(c)}u.done?t(o):Promise.resolve(o).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var s=e.apply(t,n);function a(e){u(s,r,i,a,o,"next",e)}function o(e){u(s,r,i,a,o,"throw",e)}a(void 0)}))}}var c={onLoad:function(t){e("log",plus.push.getClientInfo()," at pages\\register\\register.vue:30"),this.cid=plus.push.getClientInfo().clientid,e("log",t," at pages\\register\\register.vue:32"),t.wxlogin&&(e("log","进入"," at pages\\register\\register.vue:34"),this.wxlogin=t.wxlogin,this.uniId=t.unionId,this.nickName=t.nickName,this.avatarUrl=t.avatarUrl)},data:function(){return{wxlogin:"",uniId:"",isReader:!0,getYzm:!0,computedTimer:0,userPhone:"",code:"",yzm:"",userPwd:"",userSecPwd:"",inviteCode:"",resMsg:"",cid:"",checkPhone:"",nickName:"",avatarUrl:""}},methods:{checkPhoneNumber:function(){var e=/^1[3456789]\d{9}$/;return e.test(this.userPhone)?(this.checkPhone=!1,!0):(this.checkPhone=!0,!1)},handleIsReader:function(){this.isReader=!this.isReader},getCode:function(){var t=o(i.default.mark((function t(){var n,a,u,o=this;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.checkPhoneNumber(),this.getYzm){t.next=3;break}return t.abrupt("return");case 3:if(""!=this.userPhone.trim()){t.next=6;break}return r.showToast({icon:"none",title:"请先输入手机号"}),t.abrupt("return");case 6:if(!this.checkPhone){t.next=9;break}return r.showToast({icon:"none",title:"请检查手机号输入是否正确"}),t.abrupt("return");case 9:return this.getYzm=!1,this.computedTimer=60,n=setInterval((function(){0===o.computedTimer?(clearInterval(n),o.getYzm=!0):o.computedTimer--}),1e3),a=s.default.setEncrypt(this.$api.publiukey,this.userPhone),t.next=15,this.$fetch(this.$api.customerPhone,{mobile:a},"GET","form");case 15:u=t.sent,e("log",u," at pages\\register\\register.vue:119"),this.yzm=u.msg;case 18:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),formSubmit:function(){var t=o(i.default.mark((function t(){var n,s,a,u;return i.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.wxlogin){t.next=25;break}if(""!=this.userPhone.trim()&&""!=this.code.trim()&&""!=this.userPwd&&""!=this.userSecPwd){t.next=4;break}return r.showToast({icon:"none",title:"请填写信息后进行注册"}),t.abrupt("return");case 4:if(this.userPwd==this.userSecPwd){t.next=7;break}return r.showToast({icon:"none",title:"两次输入的密码不一致"}),t.abrupt("return");case 7:if(this.isReader){t.next=10;break}return r.showToast({icon:"none",title:"请认真阅读平台用户协议"}),t.abrupt("return");case 10:return t.next=12,this.$fetch(this.$api.customerUser,{mobile:this.userPhone,checkCode:this.code,password:this.userPwd,inviteCode:this.inviteCode,cid:this.cid},"POST","form");case 12:if(n=t.sent,e("log",n," at pages\\register\\register.vue:156"),0!==n.code){t.next=22;break}return r.showToast({icon:"success",title:"注册成功"}),t.next=18,this.$fetch(this.$api.customerLogin,{loginName:this.userPhone,password:this.userPwd,cid:this.cid},"POST","Form");case 18:s=t.sent,0==s.code?(r.setStorageSync("token",s.data.token),setTimeout((function(){r.switchTab({url:"../my/my"})}),1500)):r.showToast({icon:"none",title:s.msg}),t.next=23;break;case 22:r.showToast({icon:"none",title:n.msg});case 23:t.next=37;break;case 25:return e("log",{avatarUrl:this.avatarUrl,nickName:this.nickName,mobile:this.userPhone,checkCode:this.code,inviteCode:this.inviteCode,cid:this.cid,unionId:this.uniId}," at pages\\register\\register.vue:195"),t.next=28,this.$fetch(this.$api.customerUser,{avatarUrl:this.avatarUrl,nickName:this.nickName,mobile:this.userPhone,checkCode:this.code,inviteCode:this.inviteCode,cid:this.cid,unionId:this.uniId},"POST","form");case 28:if(a=t.sent,0!==a.code){t.next=36;break}return t.next=32,this.$fetch(this.$api.customerWx,{cid:this.cid,unionId:this.uniId},"POST","FORM");case 32:u=t.sent,0===u.code?(r.setStorageSync("token",u.data.token),r.switchTab({url:"../my/my"})):r.showToast({icon:"none",title:a.msg}),t.next=37;break;case 36:r.showToast({icon:"none",title:a.msg});case 37:case"end":return t.stop()}}),t,this)})));function n(){return t.apply(this,arguments)}return n}(),goToRichText:function(){var e=o(i.default.mark((function e(){return i.default.wrap((function(e){while(1)switch(e.prev=e.next){case 0:r.navigateTo({url:"../rich-text/rich-text?id=2"});case 1:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}};t.default=c}).call(this,n("0de9")["default"],n("6e42")["default"])},b4ff:function(e,t,n){},dbe1:function(e,t,n){"use strict";n.r(t);var r=n("13c7"),i=n("2126");for(var s in i)"default"!==s&&function(e){n.d(t,e,(function(){return i[e]}))}(s);n("1fa6");var a,u=n("f0c5"),o=Object(u["a"])(i["default"],r["b"],r["c"],!1,null,null,null,!1,r["a"],a);t["default"]=o.exports}},[["867a","common/runtime","common/vendor"]]]);